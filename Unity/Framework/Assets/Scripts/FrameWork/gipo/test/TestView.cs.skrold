using gipo.core;
using gipo.util;

public class TestView : GearHolder {

	[Diffuse]
	private TestPanel panel;

	private void prepare() {
		UnityEngine.Debug.Log("TestPanel : prepare");
		if (!_auto_diffuse) {
			gear.diffuse(panel, typeof(TestPanel));
		}
	}

	private void run() {
		UnityEngine.Debug.Log("TestPanel : run");
	}

	private void bubble() {
		UnityEngine.Debug.Log("TestPanel : bubble");
	}

	private void disposeTask() {
		UnityEngine.Debug.Log("TestPanel : disposeTask");
	}

	public TestView() : base() {
		gear.addPreparationHandler(prepare, new PosInfos());
		gear.addRunHandler(run, new PosInfos());
		gear.addBubbleHandler(bubble, new PosInfos());
		gear.disposeTask(disposeTask, new PosInfos());
	}

	protected override void fieldSetup() {
		panel = new TestPanel();
	}

	// for debug
	public void debugAbsorb() {
		panel.debugAbsorb();
	}
}
