using gipo.core;
using gipo.util;

public class TestLogic : GearHolder {

	[Diffuse]
	private TestService service;

	private void prepare() {
		UnityEngine.Debug.Log("TestLogic : prepare");
		if (!_auto_diffuse) {
			gear.diffuse(service, typeof(TestService));
		}
	}

	private void run() {
		UnityEngine.Debug.Log("TestLogic : run");
	}

	private void bubble() {
		UnityEngine.Debug.Log("TestLogic : bubble");
	}

	private void disposeTask() {
		UnityEngine.Debug.Log("TestLogic : disposeTask");
	}

	public TestLogic() : base() {
		gear.addPreparationHandler(prepare, new PosInfos());
		gear.addRunHandler(run, new PosInfos());
		gear.addBubbleHandler(bubble, new PosInfos());
		gear.disposeTask(disposeTask, new PosInfos());
	}

	protected override void fieldSetup() {
		service = new TestService();
	}

	// ==== test method ====
	public void debug(string str) {
		UnityEngine.Debug.Log(str);
	}
}
